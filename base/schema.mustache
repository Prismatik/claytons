const fs = require('fs');
const deref = require('json-schema-deref-sync');

const schema = fs.readdirSync('./schemas').reduce((s, file) => {
  const name = file.split('.json')[0];
  s[name] = require('./schemas/'+file);
  return s;
}, {});

const getSchema = () => {
  return deref(schema);
}

module.exports = getSchema;
